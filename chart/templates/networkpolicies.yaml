---
# ðŸ§ª Permite que pods de prueba (como curlpod) puedan salir
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-egress-test-tools
spec:
  podSelector:
    matchLabels:
      run: curlpod
  policyTypes:
    - Egress
  egress:
    - to:
        - namespaceSelector: {}

---
# ðŸ§ª Permite que pods de prueba (como curlpod) puedan ingresar a los demÃ¡s pods del namespace
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-ingress-to-test-tools
spec:
  podSelector: {}  # aplica a todos los pods destino
  policyTypes:
    - Ingress
  ingress:
    - from:
        - podSelector:
            matchLabels:
              run: curlpod
